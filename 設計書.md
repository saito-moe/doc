# システム構成設計書

## 1. 概要
- 機能名：レスポンスPowerBI化
- 開発対象：Java、PowerBI
- 機能の目的・背景：  MIがエクセルで作成している「レスポンス」のPowerBI化
## 2. システム構成図

```mermaid
sequenceDiagram
    participant 直前のジョブ(JBDW030204)

    participant 受注実績データ作成処理(JBDW030205)
    participant ROI出荷者データ作成処理(JBDW030206)
    participant ROI休止者データ作成処理(JBDW030207)
    participant 終了ジョブ
 
    直前のジョブ(JBDW030204)->>受注実績データ作成処理(JBDW030205): ClsSkdb4000JuchuuJissekiData
    受注実績データ作成処理(JBDW030205)->>ROI出荷者データ作成処理(JBDW030206): ClsSkdb4010ROITable(arg="Shukkasha")
    ROI出荷者データ作成処理(JBDW030206)->>ROI休止者データ作成処理(JBDW030207): ClsSkdb4010ROITable(arg="Kyuushisha")
    ROI休止者データ作成処理(JBDW030207)->>終了ジョブ: cls_seps7003_Dummy
```

## 2. ジョブネット
　　ここにジョブ管理台帳、ジョブネット図のリンクをはる。

## 3. テーブル設計
　　ここにテーブルレイウトのリンクをはる。
  
## 4. ER図（Entity Relationship Diagram）
　　ここにかく

  
## 5. フローチャート（Entity Relationship Diagram）
```mermaid
graph TD
    A[① KDB_DT_受注実績付加情報テーブル作成<br>※受注日・顧客・企画単位] --> B[② ROI用のデータを作成<br>※受注月・企画・企画名称・会員ステージ名称・新規or再購入・出荷者or休止者 単位]
    C[③ 経費データを作成する] --> E
    B --> E[④ PowerBIに表示する]
```
```mermaid
graph TD
    A[① KDB_DT_受注実績付加情報テーブル作成<br>※受注日・顧客・企画単位] --> A1[①-1 前月の受注実績付加情報を追加<br>※前月のデータを取得し、不足している項目を追加]
```


